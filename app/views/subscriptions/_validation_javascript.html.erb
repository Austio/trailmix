<% content_for :javascript do %>
  <%= javascript_tag do %>
    var $tooltip = $("#sign-up-button-tooltip"),
        $signUpButton = $("#sign-up-button"),
        $email = $("#email"),
        $password = $("#password");

    function enableSignUp() {
      $tooltip.attr("data-original-title", "");
      $signUpButton.prop("disabled", false);
    }

    function disableSignUp() {
      $signUpButton.prop("disabled", true);
      $tooltip.attr("data-original-title", "We need an email and password");
    }

    $("input").on("keyup", function(){
      if ($email.val() && $password.val()) {
        enableSignUp();
      } else {
        disableSignUp();
      }
    });

    disableSignUp();
  <% end %>
<% end %>
